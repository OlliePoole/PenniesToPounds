<!DOCTYPE html>
<head>
	<title>Checkout</title>
	<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.1.0.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

  		<div class="left-panel">
  			<img class="nimbus" src="nimbus.jpg" alt="Nimbus Bike View">
  			<div class="product-details">
  				<table>
  					<tr>
  						<td>Nimbus</td>
  						<td>&#163;192.79</td>
  					</tr>
  					<tr>
  						<td>Pennies to Pounds</td>
  						<td>&#163;7.21</td>
  				</table>
  				<hr>
  				<table>
  					<tr>
  						<td>Total</p></td>
  						<td>&#163;200.00</td>
  					</tr>
  				</table>
  			</div>
   		</div>
   		<div class="right-panel">
   		<div id="beforeSubmit">
			<form>
	   			<img class="icon" src="Icon.png" alt="Nimbus Bike View">
	   			<p>PENNIES TO POUNDS</p>
	   			<label>CARD NUMBER</label><br>
	   			<input type="text" id="card-number"><br>

	   			<label>NAME ON CARD</label><br>
	   			<input type="text" id="card-name"><br>
	   			<div class="inline_inputs">
	   				<div class="left-input">
	   					<label>EXPIRY DATE</label><br>
	   					<input type="text" id="card-expiry">
	   				</div>
	   				<div class="right-input">
	   					<label>CVC</label><br>
	   					<input type="text" id="card-cvn">
	   				</div>
	   			</div>

	   			<input onclick="validate();" type="submit" value="Submit" class="submit">
	   		</form>
   	</div>
   	<div id="afterSubmit">
 		<img class="success" src="Savings Button@3x.png" alt="Transaction Successful">
   	</div>
   		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script>
	$(document).ready(function(){
		$("#afterSubmit").hide();
		$(".submit").click(function () {
    		$("#beforeSubmit").remove();
    		$("#afterSubmit").show();
		});
		});

		function validate() {

			$.ajax({
				type: "POST",
				url: "https://fierce-wave-41671.herokuapp.com/makePayment",
				data: "",
				success: function(result) { alert("Hello world"); }
			});

			var cardNumber = document.getElementById('card-number').value;
			var cardName = document.getElementById('card-name').value;
			var expiryDate = document.getElementById('card-expiry').value;
			var cvn = document.getElementById('card-cvn').value;

			var data = { "original-value" : 19279,
						 "markup" : 721,
						 "card-number" : cardNumber,
						  "card-name" : cardName,
						  "card-expiry" : expiryDate,
						  "card-cvn" : cvn };




			//var cardNumberCheck = RealexRemote.validateCardNumber(cardNumber);
			//var cardHolderNameCheck = RealexRemote.validateCardHolderName(cardName);

		// 	var expiryDateFormatCheck = RealexRemote.validateExpiryDateFormat(expiryDate);
		// 	var expiryDatePastCheck = RealexRemote.validateExpiryDateNotInPast(expiryDate);
		//
		//
		//
		// if ( document.getElementById('card-number').value.charAt(0) == "3" ) {
		// 	 cvnCheck = RealexRemote.validateAmexCvn(cvn);
		//  }
		// else {
		// 	 cvnCheck = RealexRemote.validateCvn(cvn);
		//   }
		// if (cardNumberCheck == false || cardHolderNameCheck == false || expiryDateFormatCheck == false || expiryDatePastCheck == false || cvnCheck == false) {
		// 	// code here to inform the cardholder of an input error and prevent the form submitting
		// 	alert("Those details don't quite look right!");
		// 	return false;
		//  }
		// else
		// {
		//
		//
		// 	return true;
		// }
	}
	</script>


</body>
